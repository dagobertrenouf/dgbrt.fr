/*! Magnific Popup - v0.9.9 - 2013-12-27
* http://dimsemenov.com/plugins/magnific-popup/
* Copyright (c) 2013 Dmitry Semenov; */
;(function(C){var y="Close",H="BeforeClose",v="AfterClose",N="BeforeAppend",f="MarkupParse",k="Open",h="Change",D="mfp",d="."+D,I="mfp-ready",K="mfp-removing",e="mfp-prevent-close";var S,z=function(){},J=!!(window.jQuery),B,a=C(window),x,A,F,b,L;var i=function(W,X){S.ev.on(D+W+d,X)},n=function(aa,X,Y,W){var Z=document.createElement("div");Z.className="mfp-"+aa;if(Y){Z.innerHTML=Y}if(!W){Z=C(Z);if(X){Z.appendTo(X)}}else{if(X){X.appendChild(Z)}}return Z},P=function(X,W){S.ev.triggerHandler(D+X,W);if(S.st.callbacks){X=X.charAt(0).toLowerCase()+X.slice(1);if(S.st.callbacks[X]){S.st.callbacks[X].apply(S,C.isArray(W)?W:[W])}}},E=function(W){if(W!==L||!S.currTemplate.closeBtn){S.currTemplate.closeBtn=C(S.st.closeMarkup.replace("%title%",S.st.tClose));L=W}return S.currTemplate.closeBtn},s=function(){if(!C.magnificPopup.instance){S=new z();S.init();C.magnificPopup.instance=S}},V=function(){var X=document.createElement("p").style,W=["ms","O","Moz","Webkit"];if(X.transition!==undefined){return true}while(W.length){if(W.pop()+"Transition" in X){return true}}return false};z.prototype={constructor:z,init:function(){var W=navigator.appVersion;S.isIE7=W.indexOf("MSIE 7.")!==-1;S.isIE8=W.indexOf("MSIE 8.")!==-1;S.isLowIE=S.isIE7||S.isIE8;S.isAndroid=(/android/gi).test(W);S.isIOS=(/iphone|ipad|ipod/gi).test(W);S.supportsTransition=V();S.probablyMobile=(S.isAndroid||S.isIOS||/(Opera Mini)|Kindle|webOS|BlackBerry|(Opera Mobi)|(Windows Phone)|IEMobile/i.test(navigator.userAgent));A=C(document);S.popupsCache={}},open:function(ab){if(!x){x=C(document.body)}var ac;if(ab.isObj===false){S.items=ab.items.toArray();S.index=0;var ad=ab.items,ae;for(ac=0;ac<ad.length;ac++){ae=ad[ac];if(ae.parsed){ae=ae.el[0]}if(ae===ab.el[0]){S.index=ac;break}}}else{S.items=C.isArray(ab.items)?ab.items:[ab.items];S.index=ab.index||0}if(S.isOpen){S.updateItemHTML();return}S.types=[];b="";if(ab.mainEl&&ab.mainEl.length){S.ev=ab.mainEl.eq(0)}else{S.ev=A}if(ab.key){if(!S.popupsCache[ab.key]){S.popupsCache[ab.key]={}}S.currTemplate=S.popupsCache[ab.key]}else{S.currTemplate={}}S.st=C.extend(true,{},C.magnificPopup.defaults,ab);S.fixedContentPos=S.st.fixedContentPos==="auto"?!S.probablyMobile:S.st.fixedContentPos;if(S.st.modal){S.st.closeOnContentClick=false;S.st.closeOnBgClick=false;S.st.showCloseBtn=false;S.st.enableEscapeKey=false}if(!S.bgOverlay){S.bgOverlay=n("bg").on("click"+d,function(){S.close()});S.wrap=n("wrap").attr("tabindex",-1).on("click"+d,function(ag){if(S._checkIfClose(ag.target)){S.close()}});S.container=n("container",S.wrap)}S.contentContainer=n("content");if(S.st.preloader){S.preloader=n("preloader",S.container,S.st.tLoading)}var aa=C.magnificPopup.modules;for(ac=0;ac<aa.length;ac++){var Z=aa[ac];Z=Z.charAt(0).toUpperCase()+Z.slice(1);S["init"+Z].call(S)}P("BeforeOpen");if(S.st.showCloseBtn){if(!S.st.closeBtnInside){S.wrap.append(E())}else{i(f,function(aj,ah,ag,ai){ag.close_replaceWith=E(ai.type)});b+=" mfp-close-btn-in"}}if(S.st.alignTop){b+=" mfp-align-top"}if(S.fixedContentPos){S.wrap.css({overflow:S.st.overflowY,overflowX:"hidden",overflowY:S.st.overflowY})}else{S.wrap.css({top:a.scrollTop(),position:"absolute"})}if(S.st.fixedBgPos===false||(S.st.fixedBgPos==="auto"&&!S.fixedContentPos)){S.bgOverlay.css({height:A.height(),position:"absolute"})}if(S.st.enableEscapeKey){A.on("keyup"+d,function(ag){if(ag.keyCode===27){S.close()}})}a.on("resize"+d,function(){S.updateSize()});if(!S.st.closeOnContentClick){b+=" mfp-auto-cursor"}if(b){S.wrap.addClass(b)}var W=S.wH=a.height();var Y={};if(S.fixedContentPos){if(S._hasScrollBar(W)){var af=S._getScrollbarSize();if(af){Y.marginRight=af}}}if(S.fixedContentPos){if(!S.isIE7){Y.overflow="hidden"}else{C("body, html").css("overflow","hidden")}}var X=S.st.mainClass;if(S.isIE7){X+=" mfp-ie7"}if(X){S._addClassToMFP(X)}S.updateItemHTML();P("BuildControls");C("html").css(Y);S.bgOverlay.add(S.wrap).prependTo(S.st.prependTo||x);S._lastFocusedEl=document.activeElement;setTimeout(function(){if(S.content){S._addClassToMFP(I);S._setFocus()}else{S.bgOverlay.addClass(I)}A.on("focusin"+d,S._onFocusIn)},16);S.isOpen=true;S.updateSize(W);P(k);return ab},close:function(){if(!S.isOpen){return}P(H);S.isOpen=false;if(S.st.removalDelay&&!S.isLowIE&&S.supportsTransition){S._addClassToMFP(K);setTimeout(function(){S._close()},S.st.removalDelay)}else{S._close()}},_close:function(){P(y);var W=K+" "+I+" ";S.bgOverlay.detach();S.wrap.detach();S.container.empty();if(S.st.mainClass){W+=S.st.mainClass+" "}S._removeClassFromMFP(W);if(S.fixedContentPos){var X={marginRight:""};if(S.isIE7){C("body, html").css("overflow","")}else{X.overflow=""}C("html").css(X)}A.off("keyup"+d+" focusin"+d);S.ev.off(d);S.wrap.attr("class","mfp-wrap").removeAttr("style");S.bgOverlay.attr("class","mfp-bg");S.container.attr("class","mfp-container");if(S.st.showCloseBtn&&(!S.st.closeBtnInside||S.currTemplate[S.currItem.type]===true)){if(S.currTemplate.closeBtn){S.currTemplate.closeBtn.detach()}}if(S._lastFocusedEl){C(S._lastFocusedEl).focus()}S.currItem=null;S.content=null;S.currTemplate=null;S.prevHeight=0;P(v)},updateSize:function(X){if(S.isIOS){var Y=document.documentElement.clientWidth/window.innerWidth;var W=window.innerHeight*Y;S.wrap.css("height",W);S.wH=W}else{S.wH=X||a.height()}if(!S.fixedContentPos){S.wrap.css("height",S.wH)}P("Resize")},updateItemHTML:function(){var Z=S.items[S.index];S.contentContainer.detach();if(S.content){S.content.detach()}if(!Z.parsed){Z=S.parseEl(S.index)}var Y=Z.type;P("BeforeChange",[S.currItem?S.currItem.type:"",Y]);S.currItem=Z;if(!S.currTemplate[Y]){var X=S.st[Y]?S.st[Y].markup:false;P("FirstMarkupParse",X);if(X){S.currTemplate[Y]=C(X)}else{S.currTemplate[Y]=true}}if(F&&F!==Z.type){S.container.removeClass("mfp-"+F+"-holder")}var W=S["get"+Y.charAt(0).toUpperCase()+Y.slice(1)](Z,S.currTemplate[Y]);S.appendContent(W,Y);Z.preloaded=true;P(h,Z);F=Z.type;S.container.prepend(S.contentContainer);P("AfterChange")},appendContent:function(W,X){S.content=W;if(W){if(S.st.showCloseBtn&&S.st.closeBtnInside&&S.currTemplate[X]===true){if(!S.content.find(".mfp-close").length){S.content.append(E())}}else{S.content=W}}else{S.content=""}P(N);S.container.addClass("mfp-"+X+"-holder");S.contentContainer.append(S.content)},parseEl:function(W){var aa=S.items[W],Z;if(aa.tagName){aa={el:C(aa)}}else{Z=aa.type;aa={data:aa,src:aa.src}}if(aa.el){var Y=S.types;for(var X=0;X<Y.length;X++){if(aa.el.hasClass("mfp-"+Y[X])){Z=Y[X];break}}aa.src=aa.el.attr("data-mfp-src");if(!aa.src){aa.src=aa.el.attr("href")}}aa.type=Z||S.st.type||"inline";aa.index=W;aa.parsed=true;S.items[W]=aa;P("ElementParse",aa);return S.items[W]},addGroup:function(Y,X){var Z=function(aa){aa.mfpEl=this;S._openClick(aa,Y,X)};if(!X){X={}}var W="click.magnificPopup";X.mainEl=Y;if(X.items){X.isObj=true;Y.off(W).on(W,Z)}else{X.isObj=false;if(X.delegate){Y.off(W).on(W,X.delegate,Z)}else{X.items=Y;Y.off(W).on(W,Z)}}},_openClick:function(aa,Y,W){var X=W.midClick!==undefined?W.midClick:C.magnificPopup.defaults.midClick;if(!X&&(aa.which===2||aa.ctrlKey||aa.metaKey)){return}var Z=W.disableOn!==undefined?W.disableOn:C.magnificPopup.defaults.disableOn;if(Z){if(C.isFunction(Z)){if(!Z.call(S)){return true}}else{if(a.width()<Z){return true}}}if(aa.type){aa.preventDefault();if(S.isOpen){aa.stopPropagation()}}W.el=C(aa.mfpEl);if(W.delegate){W.items=Y.find(W.delegate)}S.open(W)},updateStatus:function(W,Y){if(S.preloader){if(B!==W){S.container.removeClass("mfp-s-"+B)}if(!Y&&W==="loading"){Y=S.st.tLoading}var X={status:W,text:Y};P("UpdateStatus",X);W=X.status;Y=X.text;S.preloader.html(Y);S.preloader.find("a").on("click",function(Z){Z.stopImmediatePropagation()});S.container.addClass("mfp-s-"+W);B=W}},_checkIfClose:function(Y){if(C(Y).hasClass(e)){return}var W=S.st.closeOnContentClick;var X=S.st.closeOnBgClick;if(W&&X){return true}else{if(!S.content||C(Y).hasClass("mfp-close")||(S.preloader&&Y===S.preloader[0])){return true}if((Y!==S.content[0]&&!C.contains(S.content[0],Y))){if(X){if(C.contains(document,Y)){return true}}}else{if(W){return true}}}return false},_addClassToMFP:function(W){S.bgOverlay.addClass(W);S.wrap.addClass(W)},_removeClassFromMFP:function(W){this.bgOverlay.removeClass(W);S.wrap.removeClass(W)},_hasScrollBar:function(W){return((S.isIE7?A.height():document.body.scrollHeight)>(W||a.height()))},_setFocus:function(){(S.st.focus?S.content.find(S.st.focus).eq(0):S.wrap).focus()},_onFocusIn:function(W){if(W.target!==S.wrap[0]&&!C.contains(S.wrap[0],W.target)){S._setFocus();return false}},_parseMarkup:function(Y,X,Z){var W;if(Z.data){X=C.extend(Z.data,X)}P(f,[Y,X,Z]);C.each(X,function(ab,ad){if(ad===undefined||ad===false){return true}W=ab.split("_");if(W.length>1){var ac=Y.find(d+"-"+W[0]);if(ac.length>0){var aa=W[1];if(aa==="replaceWith"){if(ac[0]!==ad[0]){ac.replaceWith(ad)}}else{if(aa==="img"){if(ac.is("img")){ac.attr("src",ad)}else{ac.replaceWith('<img src="'+ad+'" class="'+ac.attr("class")+'" />')}}else{ac.attr(W[1],ad)}}}}else{Y.find(d+"-"+ab).html(ad)}})},_getScrollbarSize:function(){if(S.scrollbarSize===undefined){var W=document.createElement("div");W.id="mfp-sbm";W.style.cssText="width: 99px; height: 99px; overflow: scroll; position: absolute; top: -9999px;";document.body.appendChild(W);S.scrollbarSize=W.offsetWidth-W.clientWidth;document.body.removeChild(W)}return S.scrollbarSize}};C.magnificPopup={instance:null,proto:z.prototype,modules:[],open:function(X,W){s();if(!X){X={}}else{X=C.extend(true,{},X)}X.isObj=true;X.index=W||0;return this.instance.open(X)},close:function(){return C.magnificPopup.instance&&C.magnificPopup.instance.close()},registerModule:function(W,X){if(X.options){C.magnificPopup.defaults[W]=X.options}C.extend(this.proto,X.proto);this.modules.push(W)},defaults:{disableOn:0,key:null,midClick:false,mainClass:"",preloader:true,focus:"",closeOnContentClick:false,closeOnBgClick:true,closeBtnInside:true,showCloseBtn:true,enableEscapeKey:true,modal:false,alignTop:false,removalDelay:0,prependTo:null,fixedContentPos:"auto",fixedBgPos:"auto",overflowY:"auto",closeMarkup:'<button title="%title%" type="button" class="mfp-close">&times;</button>',tClose:"Close (Esc)",tLoading:"Loading..."}};C.fn.magnificPopup=function(Y){s();var Z=C(this);if(typeof Y==="string"){if(Y==="open"){var W,aa=J?Z.data("magnificPopup"):Z[0].magnificPopup,X=parseInt(arguments[1],10)||0;if(aa.items){W=aa.items[X]}else{W=Z;if(aa.delegate){W=W.find(aa.delegate)}W=W.eq(X)}S._openClick({mfpEl:W},Z,aa)}else{if(S.isOpen){S[Y].apply(S,Array.prototype.slice.call(arguments,1))}}}else{Y=C.extend(true,{},Y);if(J){Z.data("magnificPopup",Y)}else{Z[0].magnificPopup=Y}S.addGroup(Z,Y)}return Z};var G="inline",R,O,r,l=function(){if(r){O.after(r.addClass(R)).detach();r=null}};C.magnificPopup.registerModule(G,{options:{hiddenClass:"hide",markup:"",tNotFound:"Content not found"},proto:{initInline:function(){S.types.push(G);i(y+"."+G,function(){l()})},getInline:function(aa,Z){l();if(aa.src){var W=S.st.inline,Y=C(aa.src);if(Y.length){var X=Y[0].parentNode;if(X&&X.tagName){if(!O){R=W.hiddenClass;O=n(R);R="mfp-"+R}r=Y.after(O).detach().removeClass(R)}S.updateStatus("ready")}else{S.updateStatus("error",W.tNotFound);Y=C("<div>")}aa.inlineElement=Y;return Y}S.updateStatus("ready");S._parseMarkup(Z,{},aa);return Z}}});var t="ajax",U,u=function(){if(U){x.removeClass(U)}},T=function(){u();if(S.req){S.req.abort()}};C.magnificPopup.registerModule(t,{options:{settings:null,cursor:"mfp-ajax-cur",tError:'<a href="%url%">The content</a> could not be loaded.'},proto:{initAjax:function(){S.types.push(t);U=S.st.ajax.cursor;i(y+"."+t,T);i("BeforeChange."+t,T)},getAjax:function(X){if(U){x.addClass(U)}S.updateStatus("loading");var W=C.extend({url:X.src,success:function(aa,ab,Z){var Y={data:aa,xhr:Z};P("ParseAjax",Y);S.appendContent(C(Y.data),t);X.finished=true;u();S._setFocus();setTimeout(function(){S.wrap.addClass(I)},16);S.updateStatus("ready");P("AjaxContentAdded")},error:function(){u();X.finished=X.loadError=true;S.updateStatus("error",S.st.ajax.tError.replace("%url%",X.src))}},S.st.ajax.settings);S.req=C.ajax(W);return""}}});var g,c=function(W){if(W.data&&W.data.title!==undefined){return W.data.title}var X=S.st.image.titleSrc;if(X){if(C.isFunction(X)){return X.call(S,W)}else{if(W.el){return W.el.attr(X)||""}}}return""};C.magnificPopup.registerModule("image",{options:{markup:'<div class="mfp-figure"><div class="mfp-close"></div><figure><div class="mfp-img"></div><figcaption><div class="mfp-bottom-bar"><div class="mfp-title"></div><div class="mfp-counter"></div></div></figcaption></figure></div>',cursor:"mfp-zoom-out-cur",titleSrc:"title",verticalFit:true,tError:'<a href="%url%">The image</a> could not be loaded.'},proto:{initImage:function(){var X=S.st.image,W=".image";S.types.push("image");i(k+W,function(){if(S.currItem.type==="image"&&X.cursor){x.addClass(X.cursor)}});i(y+W,function(){if(X.cursor){x.removeClass(X.cursor)}a.off("resize"+d)});i("Resize"+W,S.resizeImage);if(S.isLowIE){i("AfterChange",S.resizeImage)}},resizeImage:function(){var X=S.currItem;if(!X||!X.img){return}if(S.st.image.verticalFit){var W=0;if(S.isLowIE){W=parseInt(X.img.css("padding-top"),10)+parseInt(X.img.css("padding-bottom"),10)}}},_onImageHasSize:function(W){if(W.img){W.hasSize=true;if(g){clearInterval(g)}W.isCheckingImgSize=false;P("ImageHasSize",W);if(W.imgHidden){if(S.content){S.content.removeClass("mfp-loading")}W.imgHidden=false}}},findImageSize:function(Z){var W=0,X=Z.img[0],Y=function(aa){if(g){clearInterval(g)}g=setInterval(function(){if(X.naturalWidth>0){S._onImageHasSize(Z);return}if(W>200){clearInterval(g)}W++;if(W===3){Y(10)}else{if(W===40){Y(50)}else{if(W===100){Y(500)}}}},aa)};Y(1)},getImage:function(ac,Z){var ab=0,ad=function(){if(ac){if(ac.img[0].complete){ac.img.off(".mfploader");if(ac===S.currItem){S._onImageHasSize(ac);S.updateStatus("ready")}ac.hasSize=true;ac.loaded=true;P("ImageLoadComplete")}else{ab++;if(ab<200){setTimeout(ad,100)}else{W()}}}},W=function(){if(ac){ac.img.off(".mfploader");if(ac===S.currItem){S._onImageHasSize(ac);S.updateStatus("error",aa.tError.replace("%url%",ac.src))}ac.hasSize=true;ac.loaded=true;ac.loadError=true}},aa=S.st.image;var Y=Z.find(".mfp-img");if(Y.length){var X=document.createElement("img");X.className="mfp-img";ac.img=C(X).on("load.mfploader",ad).on("error.mfploader",W);X.src=ac.src;if(Y.is("img")){ac.img=ac.img.clone()}X=ac.img[0];if(X.naturalWidth>0){ac.hasSize=true}else{if(!X.width){ac.hasSize=false}}}S._parseMarkup(Z,{title:c(ac),img_replaceWith:ac.img},ac);S.resizeImage();if(ac.hasSize){if(g){clearInterval(g)}if(ac.loadError){Z.addClass("mfp-loading");S.updateStatus("error",aa.tError.replace("%url%",ac.src))}else{Z.removeClass("mfp-loading");S.updateStatus("ready")}return Z}S.updateStatus("loading");ac.loading=true;if(!ac.hasSize){ac.imgHidden=true;Z.addClass("mfp-loading");S.findImageSize(ac)}return Z}}});var j,M=function(){if(j===undefined){j=document.createElement("p").style.MozTransform!==undefined}return j};C.magnificPopup.registerModule("zoom",{options:{enabled:false,easing:"ease-in-out",duration:300,opener:function(W){return W.is("img")?W:W.find("img")}},proto:{initZoom:function(){var X=S.st.zoom,aa=".zoom",ad;if(!X.enabled||!S.supportsTransition){return}var ac=X.duration,ab=function(ag){var af=ag.clone().removeAttr("style").removeAttr("class").addClass("mfp-animated-image"),ah="all "+(X.duration/1000)+"s "+X.easing,ai={position:"fixed",zIndex:9999,left:0,top:0,"-webkit-backface-visibility":"hidden"},ae="transition";ai["-webkit-"+ae]=ai["-moz-"+ae]=ai["-o-"+ae]=ai[ae]=ah;af.css(ai);return af},W=function(){S.content.css("visibility","visible")},Y,Z;i("BuildControls"+aa,function(){if(S._allowZoom()){clearTimeout(Y);S.content.css("visibility","hidden");ad=S._getItemToZoom();if(!ad){W();return}Z=ab(ad);Z.css(S._getOffset());S.wrap.append(Z);Y=setTimeout(function(){Z.css(S._getOffset(true));Y=setTimeout(function(){W();setTimeout(function(){Z.remove();ad=Z=null;P("ZoomAnimationEnded")},16)},ac)},16)}});i(H+aa,function(){if(S._allowZoom()){clearTimeout(Y);S.st.removalDelay=ac;if(!ad){ad=S._getItemToZoom();if(!ad){return}Z=ab(ad)}Z.css(S._getOffset(true));S.wrap.append(Z);S.content.css("visibility","hidden");setTimeout(function(){Z.css(S._getOffset())},16)}});i(y+aa,function(){if(S._allowZoom()){W();if(Z){Z.remove()}ad=null}})},_allowZoom:function(){return S.currItem.type==="image"},_getItemToZoom:function(){if(S.currItem.hasSize){return S.currItem.img}else{return false}},_getOffset:function(Y){var W;if(Y){W=S.currItem.img}else{W=S.st.zoom.opener(S.currItem.el||S.currItem)}var ab=W.offset();var X=parseInt(W.css("padding-top"),10);var aa=parseInt(W.css("padding-bottom"),10);ab.top-=(C(window).scrollTop()-X);var Z={width:W.width(),height:(J?W.innerHeight():W[0].offsetHeight)-aa-X};if(M()){Z["-moz-transform"]=Z.transform="translate("+ab.left+"px,"+ab.top+"px)"}else{Z.left=ab.left;Z.top=ab.top}return Z}}});var q="iframe",p="//about:blank",Q=function(W){if(S.currTemplate[q]){var X=S.currTemplate[q].find("iframe");if(X.length){if(!W){X[0].src=p}if(S.isIE8){X.css("display",W?"block":"none")}}}};C.magnificPopup.registerModule(q,{options:{markup:'<div class="mfp-iframe-scaler"><div class="mfp-close"></div><iframe class="mfp-iframe" src="//about:blank" frameborder="0" allowfullscreen></iframe></div>',srcAction:"iframe_src",patterns:{youtube:{index:"youtube.com",id:"v=",src:"//www.youtube.com/embed/%id%?autoplay=1"},vimeo:{index:"vimeo.com/",id:"/",src:"//player.vimeo.com/video/%id%?autoplay=1"},gmaps:{index:"//maps.google.",src:"%id%&output=embed"}}},proto:{initIframe:function(){S.types.push(q);i("BeforeChange",function(Y,W,X){if(W!==X){if(W===q){Q()}else{if(X===q){Q(true)}}}});i(y+"."+q,function(){Q()})},getIframe:function(aa,Z){var W=aa.src;var Y=S.st.iframe;C.each(Y.patterns,function(){if(W.indexOf(this.index)>-1){if(this.id){if(typeof this.id==="string"){W=W.substr(W.lastIndexOf(this.id)+this.id.length,W.length)}else{W=this.id.call(this,W)}}W=this.src.replace("%id%",W);return false}});var X={};if(Y.srcAction){X[Y.srcAction]=W}S._parseMarkup(Z,X,aa);S.updateStatus("ready");return Z}}});var w=function(W){var X=S.items.length;if(W>X-1){return W-X}else{if(W<0){return X+W}}return W},o=function(Y,X,W){return Y.replace(/%curr%/gi,X+1).replace(/%total%/gi,W)};C.magnificPopup.registerModule("gallery",{options:{enabled:false,arrowMarkup:'<button title="%title%" type="button" class="mfp-arrow mfp-arrow-%dir%"></button>',preload:[0,2],navigateByImgClick:true,arrows:true,tPrev:"Previous (Left arrow key)",tNext:"Next (Right arrow key)",tCounter:"%curr% of %total%"},proto:{initGallery:function(){var W=S.st.gallery,Y=".mfp-gallery",X=Boolean(C.fn.mfpFastClick);S.direction=true;if(!W||!W.enabled){return false}b+=" mfp-gallery";i(k+Y,function(){if(W.navigateByImgClick){S.wrap.on("click"+Y,".mfp-img",function(){if(S.items.length>1){S.next();return false}})}A.on("keydown"+Y,function(Z){if(Z.keyCode===37){S.prev()}else{if(Z.keyCode===39){S.next()}}})});i("UpdateStatus"+Y,function(aa,Z){if(Z.text){Z.text=o(Z.text,S.currItem.index,S.items.length)}});i(f+Y,function(ad,ab,aa,ac){var Z=S.items.length;aa.counter=Z>1?o(W.tCounter,ac.index,Z):""});i("BuildControls"+Y,function(){if(S.items.length>1&&W.arrows&&!S.arrowLeft){var ab=W.arrowMarkup,ac=S.arrowLeft=C(ab.replace(/%title%/gi,W.tPrev).replace(/%dir%/gi,"left")).addClass(e),aa=S.arrowRight=C(ab.replace(/%title%/gi,W.tNext).replace(/%dir%/gi,"right")).addClass(e);var Z=X?"mfpFastClick":"click";ac[Z](function(){S.prev()});aa[Z](function(){S.next()});if(S.isIE7){n("b",ac[0],false,true);n("a",ac[0],false,true);n("b",aa[0],false,true);n("a",aa[0],false,true)}S.container.append(ac.add(aa))}});i(h+Y,function(){if(S._preloadTimeout){clearTimeout(S._preloadTimeout)}S._preloadTimeout=setTimeout(function(){S.preloadNearbyImages();S._preloadTimeout=null},16)});i(y+Y,function(){A.off(Y);S.wrap.off("click"+Y);if(S.arrowLeft&&X){S.arrowLeft.add(S.arrowRight).destroyMfpFastClick()}S.arrowRight=S.arrowLeft=null})},next:function(){S.direction=true;S.index=w(S.index+1);S.updateItemHTML()},prev:function(){S.direction=false;S.index=w(S.index-1);S.updateItemHTML()},goTo:function(W){S.direction=(W>=S.index);S.index=W;S.updateItemHTML()},preloadNearbyImages:function(){var Z=S.st.gallery.preload,X=Math.min(Z[0],S.items.length),Y=Math.min(Z[1],S.items.length),W;for(W=1;W<=(S.direction?Y:X);W++){S._preloadItem(S.index+W)}for(W=1;W<=(S.direction?X:Y);W++){S._preloadItem(S.index-W)}},_preloadItem:function(W){W=w(W);if(S.items[W].preloaded){return}var X=S.items[W];if(!X.parsed){X=S.parseEl(W)}P("LazyLoad",X);if(X.type==="image"){X.img=C('<img class="mfp-img" />').on("load.mfploader",function(){X.hasSize=true}).on("error.mfploader",function(){X.hasSize=true;X.loadError=true;P("LazyLoadError",X)}).attr("src",X.src)}X.preloaded=true}}});var m="retina";C.magnificPopup.registerModule(m,{options:{replaceSrc:function(W){return W.src.replace(/\.\w+$/,function(X){return"@2x"+X})},ratio:1},proto:{initRetina:function(){if(window.devicePixelRatio>1){var W=S.st.retina,X=W.ratio;X=!isNaN(X)?X:X();if(X>1){i("ImageHasSize."+m,function(Z,Y){Y.img.css({"max-width":Y.img[0].naturalWidth/X,width:"100%"})});i("ElementParse."+m,function(Z,Y){Y.src=W.replaceSrc(Y,X)})}}}}});(function(){var X=1000,Z="ontouchstart" in window,aa=function(){a.off("touchmove"+Y+" touchend"+Y)},W="mfpFastClick",Y="."+W;C.fn.mfpFastClick=function(ab){return C(this).each(function(){var ai=C(this),ah;if(Z){var aj,ae,ad,ag,ac,af;ai.on("touchstart"+Y,function(ak){ag=false;af=1;ac=ak.originalEvent?ak.originalEvent.touches[0]:ak.touches[0];ae=ac.clientX;ad=ac.clientY;a.on("touchmove"+Y,function(al){ac=al.originalEvent?al.originalEvent.touches:al.touches;af=ac.length;ac=ac[0];if(Math.abs(ac.clientX-ae)>10||Math.abs(ac.clientY-ad)>10){ag=true;aa()}}).on("touchend"+Y,function(al){aa();if(ag||af>1){return}ah=true;al.preventDefault();clearTimeout(aj);aj=setTimeout(function(){ah=false},X);ab()})})}ai.on("click"+Y,function(){if(!ah){ab()}})})};C.fn.destroyMfpFastClick=function(){C(this).off("touchstart"+Y+" click"+Y);if(Z){a.off("touchmove"+Y+" touchend"+Y)}}})();s()})(window.jQuery||window.Zepto);
/*!
 * Isotope PACKAGED v2.0.0-beta.8
 * Magical sorting and filtering layouts
 * http://isotope.metafizzy.co
 */
(function(b){function c(){}function a(f){function e(i){i.prototype.option||(i.prototype.option=function(j){f.isPlainObject(j)&&(this.options=f.extend(!0,this.options,j))})}function h(k,j){f.fn[k]=function(t){if("string"==typeof t){for(var o=d.call(arguments,1),i=0,r=this.length;r>i;i++){var l=this[i],m=f.data(l,k);if(m){if(f.isFunction(m[t])&&"_"!==t.charAt(0)){var q=m[t].apply(m,o);if(void 0!==q){return q}}else{g("no such method '"+t+"' for "+k+" instance")}}else{g("cannot call methods on "+k+" prior to initialization; attempted to call '"+t+"'")}}return this}return this.each(function(){var n=f.data(this,k);n?(n.option(t),n._init()):(n=new j(this,t),f.data(this,k,n))})}}if(f){var g="undefined"==typeof console?c:function(i){console.error(i)};return f.bridget=function(i,j){e(j),h(i,j)},f.bridget}}var d=Array.prototype.slice;"function"==typeof define&&define.amd?define("jquery-bridget/jquery.bridget",["jquery"],a):a(b.jQuery)})(window),function(b){function d(j){var h=b.event;return h.target=h.target||h.srcElement||j,h}var a=document.documentElement,f=function(){};a.addEventListener?f=function(j,k,h){j.addEventListener(k,h,!1)}:a.attachEvent&&(f=function(h,e,j){h[e+j]=j.handleEvent?function(){var k=d(h);j.handleEvent.call(j,k)}:function(){var k=d(h);j.call(h,k)},h.attachEvent("on"+e,h[e+j])});var g=function(){};a.removeEventListener?g=function(j,k,h){j.removeEventListener(k,h,!1)}:a.detachEvent&&(g=function(j,k,h){j.detachEvent("on"+k,j[k+h]);try{delete j[k+h]}catch(l){j[k+h]=void 0}});var c={bind:f,unbind:g};"function"==typeof define&&define.amd?define("eventie/eventie",c):"object"==typeof exports?module.exports=c:b.eventie=c}(this),function(b){function d(e){"function"==typeof e&&(d.isReady?e():c.push(e))}function a(j){var h="readystatechange"===j.type&&"complete"!==g.readyState;if(!d.isReady&&!h){d.isReady=!0;for(var l=0,k=c.length;k>l;l++){var e=c[l];e()}}}function f(e){return e.bind(g,"DOMContentLoaded",a),e.bind(g,"readystatechange",a),e.bind(b,"load",a),d}var g=b.document,c=[];d.isReady=!1,"function"==typeof define&&define.amd?(d.isReady="function"==typeof requirejs,define("doc-ready/doc-ready",["eventie/eventie"],f)):b.docReady=f(b.eventie)}(this),function(){function b(){}function d(j,k){for(var h=j.length;h--;){if(j[h].listener===k){return h}}return -1}function a(e){return function(){return this[e].apply(this,arguments)}}var f=b.prototype,g=this,c=g.EventEmitter;f.getListeners=function(j){var k,h,l=this._getEvents();if(j instanceof RegExp){k={};for(h in l){l.hasOwnProperty(h)&&j.test(h)&&(k[h]=l[h])}}else{k=l[j]||(l[j]=[])}return k},f.flattenListeners=function(j){var k,h=[];for(k=0;j.length>k;k+=1){h.push(j[k].listener)}return h},f.getListenersAsObject=function(j){var k,h=this.getListeners(j);return h instanceof Array&&(k={},k[j]=h),k||h},f.addListener=function(h,e){var k,l=this.getListenersAsObject(h),j="object"==typeof e;for(k in l){l.hasOwnProperty(k)&&-1===d(l[k],e)&&l[k].push(j?e:{listener:e,once:!1})}return this},f.on=a("addListener"),f.addOnceListener=function(h,i){return this.addListener(h,{listener:i,once:!0})},f.once=a("addOnceListener"),f.defineEvent=function(e){return this.getListeners(e),this},f.defineEvents=function(h){for(var i=0;h.length>i;i+=1){this.defineEvent(h[i])}return this},f.removeListener=function(h,e){var k,l,j=this.getListenersAsObject(h);for(l in j){j.hasOwnProperty(l)&&(k=d(j[l],e),-1!==k&&j[l].splice(k,1))}return this},f.off=a("removeListener"),f.addListeners=function(h,i){return this.manipulateListeners(!1,h,i)},f.removeListeners=function(h,i){return this.manipulateListeners(!0,h,i)},f.manipulateListeners=function(j,m,h){var p,q,l=j?this.removeListener:this.addListener,k=j?this.removeListeners:this.addListeners;if("object"!=typeof m||m instanceof RegExp){for(p=h.length;p--;){l.call(this,m,h[p])}}else{for(p in m){m.hasOwnProperty(p)&&(q=m[p])&&("function"==typeof q?l.call(this,p,q):k.call(this,p,q))}}return this},f.removeEvent=function(j){var k,h=typeof j,l=this._getEvents();if("string"===h){delete l[j]}else{if(j instanceof RegExp){for(k in l){l.hasOwnProperty(k)&&j.test(k)&&delete l[k]}}else{delete this._events}}return this},f.removeAllListeners=a("removeEvent"),f.emitEvent=function(j,m){var h,p,q,l,k=this.getListenersAsObject(j);for(q in k){if(k.hasOwnProperty(q)){for(p=k[q].length;p--;){h=k[q][p],h.once===!0&&this.removeListener(j,h.listener),l=h.listener.apply(this,m||[]),l===this._getOnceReturnValue()&&this.removeListener(j,h.listener)}}}return this},f.trigger=a("emitEvent"),f.emit=function(h){var i=Array.prototype.slice.call(arguments,1);return this.emitEvent(h,i)},f.setOnceReturnValue=function(e){return this._onceReturnValue=e,this},f._getOnceReturnValue=function(){return this.hasOwnProperty("_onceReturnValue")?this._onceReturnValue:!0},f._getEvents=function(){return this._events||(this._events={})},b.noConflict=function(){return g.EventEmitter=c,b},"function"==typeof define&&define.amd?define("eventEmitter/EventEmitter",[],function(){return b}):"object"==typeof module&&module.exports?module.exports=b:this.EventEmitter=b}.call(this),function(b){function c(f){if(f){if("string"==typeof d[f]){return f}f=f.charAt(0).toUpperCase()+f.slice(1);for(var h,i=0,g=a.length;g>i;i++){if(h=a[i]+f,"string"==typeof d[h]){return h}}}}var a="Webkit Moz ms Ms O".split(" "),d=document.documentElement.style;"function"==typeof define&&define.amd?define("get-style-property/get-style-property",[],function(){return c}):"object"==typeof exports?module.exports=c:b.getStyleProperty=c}(window),function(b){function f(k){var l=parseFloat(k),j=-1===k.indexOf("%")&&!isNaN(l);return j&&l}function a(){for(var k={width:0,height:0,innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0},l=0,j=c.length;j>l;l++){var m=c[l];k[m]=0}return k}function g(j){function l(x){if("string"==typeof x&&(x=document.querySelector(x)),x&&"object"==typeof x&&x.nodeType){var A=d(x);if("none"===A.display){return a()}var B={};B.width=x.offsetWidth,B.height=x.offsetHeight;for(var E=B.isBorderBox=!(!i||!A[i]||"border-box"!==A[i]),G=0,J=c.length;J>G;G++){var D=c[G],H=A[D];H=e(x,H);var s=parseFloat(H);B[D]=isNaN(s)?0:s}var C=B.paddingLeft+B.paddingRight,F=B.paddingTop+B.paddingBottom,w=B.marginLeft+B.marginRight,M=B.marginTop+B.marginBottom,u=B.borderLeftWidth+B.borderRightWidth,q=B.borderTopWidth+B.borderBottomWidth,r=E&&k,p=f(A.width);p!==!1&&(B.width=p+(r?0:C+u));var K=f(A.height);return K!==!1&&(B.height=K+(r?0:F+q)),B.innerWidth=B.width-(C+u),B.innerHeight=B.height-(F+q),B.outerWidth=B.width+w,B.outerHeight=B.height+M,B}}function e(n,u){if(h||-1===u.indexOf("%")){return u}var m=n.style,v=m.left,q=n.runtimeStyle,p=q&&q.left;return p&&(q.left=n.currentStyle.left),m.left=u,u=m.pixelLeft,m.left=v,p&&(q.left=p),u}var k,i=j("boxSizing");return function(){if(i){var n=document.createElement("div");n.style.width="200px",n.style.padding="1px 2px 3px 4px",n.style.borderStyle="solid",n.style.borderWidth="1px 2px 3px 4px",n.style[i]="border-box";var m=document.body||document.documentElement;m.appendChild(n);var p=d(n);k=200===f(p.width),m.removeChild(n)}}(),l}var h=b.getComputedStyle,d=h?function(e){return h(e,null)}:function(e){return e.currentStyle},c=["paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth"];"function"==typeof define&&define.amd?define("get-size/get-size",["get-style-property/get-style-property"],g):"object"==typeof exports?module.exports=g(require("get-style-property")):b.getSize=g(b.getStyleProperty)}(window),function(l,h){function g(a,i){return a[j](i)}function d(a){if(!a.parentNode){var i=document.createDocumentFragment();i.appendChild(a)}}function f(o,q){d(o);for(var a=o.parentNode.querySelectorAll(q),s=0,p=a.length;p>s;s++){if(a[s]===o){return !0}}return !1}function b(a,i){return d(a),g(a,i)}var m,j=function(){if(h.matchesSelector){return"matchesSelector"}for(var e=["webkit","moz","ms","o"],a=0,q=e.length;q>a;a++){var s=e[a],p=s+"MatchesSelector";if(h[p]){return p}}}();if(j){var c=document.createElement("div"),k=g(c,"div");m=k?g:b}else{m=f}"function"==typeof define&&define.amd?define("matches-selector/matches-selector",[],function(){return m}):window.matchesSelector=m}(this,Element.prototype),function(b){function f(k,l){for(var j in l){k[j]=l[j]}return k}function a(i){for(var j in i){return !1}return j=null,!0}function g(e){return e.replace(/([A-Z])/g,function(i){return"-"+i.toLowerCase()})}function h(E,j,e){function B(l,m){l&&(this.element=l,this.layout=m,this.position={x:0,y:0},this._create())}var i=e("transition"),D=e("transform"),q=i&&D,w=!!e("perspective"),z={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"otransitionend",transition:"transitionend"}[i],o=["transform","transition","transitionDuration","transitionProperty"],x=function(){for(var m={},p=0,l=o.length;l>p;p++){var r=o[p],u=e(r);u&&u!==r&&(m[r]=u)}return m}();f(B.prototype,E.prototype),B.prototype._create=function(){this._transn={ingProperties:{},clean:{},onEnd:{}},this.css({position:"absolute"})},B.prototype.handleEvent=function(l){var m="on"+l.type;this[m]&&this[m](l)},B.prototype.getSize=function(){this.size=j(this.element)},B.prototype.css=function(m){var n=this.element.style;for(var l in m){var p=x[l]||l;n[p]=m[l]}},B.prototype.getPosition=function(){var p=c(this.element),v=this.layout.options,m=v.isOriginLeft,y=v.isOriginTop,F=parseInt(p[m?"left":"right"],10),u=parseInt(p[y?"top":"bottom"],10);F=isNaN(F)?0:F,u=isNaN(u)?0:u;var l=this.layout.size;F-=m?l.paddingLeft:l.paddingRight,u-=y?l.paddingTop:l.paddingBottom,this.position.x=F,this.position.y=u},B.prototype.layoutPosition=function(){var m=this.layout.size,n=this.layout.options,l={};n.isOriginLeft?(l.left=this.position.x+m.paddingLeft+"px",l.right=""):(l.right=this.position.x+m.paddingRight+"px",l.left=""),n.isOriginTop?(l.top=this.position.y+m.paddingTop+"px",l.bottom=""):(l.bottom=this.position.y+m.paddingBottom+"px",l.top=""),this.css(l),this.emitEvent("layout",[this])};var A=w?function(l,m){return"translate3d("+l+"px, "+m+"px, 0)"}:function(l,m){return"translate("+l+"px, "+m+"px)"};B.prototype._transitionTo=function(K,H){this.getPosition();var F=this.position.x,v=this.position.y,y=parseInt(K,10),l=parseInt(H,10),L=y===this.position.x&&l===this.position.y;if(this.setPosition(K,H),L&&!this.isTransitioning){return this.layoutPosition(),void 0}var I=K-F,m=H-v,J={},G=this.layout.options;I=G.isOriginLeft?I:-I,m=G.isOriginTop?m:-m,J.transform=A(I,m),this.transition({to:J,onTransitionEnd:{transform:this.layoutPosition},isCleaning:!0})},B.prototype.goTo=function(l,m){this.setPosition(l,m),this.layoutPosition()},B.prototype.moveTo=q?B.prototype._transitionTo:B.prototype.goTo,B.prototype.setPosition=function(l,m){this.position.x=parseInt(l,10),this.position.y=parseInt(m,10)},B.prototype._nonTransition=function(l){this.css(l.to),l.isCleaning&&this._removeStyles(l.to);for(var m in l.onTransitionEnd){l.onTransitionEnd[m].call(this)}},B.prototype._transition=function(m){if(!parseFloat(this.layout.options.transitionDuration)){return this._nonTransition(m),void 0}var n=this._transn;for(var l in m.onTransitionEnd){n.onEnd[l]=m.onTransitionEnd[l]}for(l in m.to){n.ingProperties[l]=!0,m.isCleaning&&(n.clean[l]=!0)}if(m.from){this.css(m.from);var p=this.element.offsetHeight;p=null}this.enableTransition(m.to),this.css(m.to),this.isTransitioning=!0};var k=D&&g(D)+",opacity";B.prototype.enableTransition=function(){this.isTransitioning||(this.css({transitionProperty:k,transitionDuration:this.layout.options.transitionDuration}),this.element.addEventListener(z,this,!1))},B.prototype.transition=B.prototype[i?"_transition":"_nonTransition"],B.prototype.onwebkitTransitionEnd=function(l){this.ontransitionend(l)},B.prototype.onotransitionend=function(l){this.ontransitionend(l)};var s={"-webkit-transform":"transform","-moz-transform":"transform","-o-transform":"transform"};B.prototype.ontransitionend=function(l){if(l.target===this.element){var m=this._transn,p=s[l.propertyName]||l.propertyName;if(delete m.ingProperties[p],a(m.ingProperties)&&this.disableTransition(),p in m.clean&&(this.element.style[l.propertyName]="",delete m.clean[p]),p in m.onEnd){var r=m.onEnd[p];r.call(this),delete m.onEnd[p]}this.emitEvent("transitionEnd",[this])}},B.prototype.disableTransition=function(){this.removeTransitionStyles(),this.element.removeEventListener(z,this,!1),this.isTransitioning=!1},B.prototype._removeStyles=function(m){var n={};for(var l in m){n[l]=""}this.css(n)};var C={transitionProperty:"",transitionDuration:""};return B.prototype.removeTransitionStyles=function(){this.css(C)},B.prototype.removeElem=function(){this.element.parentNode.removeChild(this.element),this.emitEvent("remove",[this])},B.prototype.remove=function(){if(!i||!parseFloat(this.layout.options.transitionDuration)){return this.removeElem(),void 0}var l=this;this.on("transitionEnd",function(){return l.removeElem(),!0}),this.hide()},B.prototype.reveal=function(){delete this.isHidden,this.css({display:""});var l=this.layout.options;this.transition({from:l.hiddenStyle,to:l.visibleStyle,isCleaning:!0})},B.prototype.hide=function(){this.isHidden=!0,this.css({display:""});var l=this.layout.options;this.transition({from:l.visibleStyle,to:l.hiddenStyle,isCleaning:!0,onTransitionEnd:{opacity:function(){this.isHidden&&this.css({display:"none"})}}})},B.prototype.destroy=function(){this.css({position:"",left:"",right:"",top:"",bottom:"",transition:"",transform:""})},B}var d=document.defaultView,c=d&&d.getComputedStyle?function(e){return d.getComputedStyle(e,null)}:function(e){return e.currentStyle};"function"==typeof define&&define.amd?define("outlayer/item",["eventEmitter/EventEmitter","get-size/get-size","get-style-property/get-style-property"],h):(b.Outlayer={},b.Outlayer.Item=h(b.EventEmitter,b.getSize,b.getStyleProperty))}(window),function(A){function w(c,f){for(var a in f){c[a]=f[a]}return c}function m(a){return"[object Array]"===v.call(a)}function g(a){var c=[];if(m(a)){c=a}else{if(a&&"number"==typeof a.length){for(var f=0,h=a.length;h>f;f++){c.push(a[f])}}else{c.push(a)}}return c}function j(c,f){var a=k(f,c);-1!==a&&f.splice(a,1)}function b(a){return a.replace(/(.)([A-Z])/g,function(f,h,c){return h+"-"+c}).toLowerCase()}function B(e,u,n,c,o,p){function a(l,f){if("string"==typeof l&&(l=y.querySelector(l)),!l||!x(l)){return d&&d.error("Bad "+this.constructor.namespace+" element: "+l),void 0}this.element=l,this.options=w({},this.options),this.option(f);var s=++t;this.element.outlayerGUID=s,r[s]=this,this._create(),this.options.isInitLayout&&this.layout()}function h(l,f){l.prototype[f]=w({},a.prototype[f])}var t=0,r={};return a.namespace="outlayer",a.Item=p,a.prototype.options={containerStyle:{position:"relative"},isInitLayout:!0,isOriginLeft:!0,isOriginTop:!0,isResizeBound:!0,transitionDuration:"0.4s",hiddenStyle:{opacity:0,transform:"scale(0.001)"},visibleStyle:{opacity:1,transform:"scale(1)"}},w(a.prototype,n.prototype),a.prototype.option=function(f){w(this.options,f)},a.prototype._create=function(){this.reloadItems(),this.stamps=[],this.stamp(this.options.stamp),w(this.element.style,this.options.containerStyle),this.options.isResizeBound&&this.bindResize()},a.prototype.reloadItems=function(){this.items=this._itemize(this.element.children)},a.prototype._itemize=function(C){for(var F=this._filterFindItemElements(C),l=this.constructor.Item,G=[],H=0,E=F.length;E>H;H++){var D=F[H],f=new l(D,this);G.push(f)}return G},a.prototype._filterFindItemElements=function(H){H=g(H);for(var E=this.options.itemSelector,D=[],C=0,f=H.length;f>C;C++){var I=H[C];if(x(I)){if(E){o(I,E)&&D.push(I);for(var F=I.querySelectorAll(E),l=0,G=F.length;G>l;l++){D.push(F[l])}}else{D.push(I)}}}return D},a.prototype.getItemElements=function(){for(var l=[],s=0,f=this.items.length;f>s;s++){l.push(this.items[s].element)}return l},a.prototype.layout=function(){this._resetLayout(),this._manageStamps();var f=void 0!==this.options.isLayoutInstant?this.options.isLayoutInstant:!this._isLayoutInited;this.layoutItems(this.items,f),this._isLayoutInited=!0},a.prototype._init=a.prototype.layout,a.prototype._resetLayout=function(){this.getSize()},a.prototype.getSize=function(){this.size=c(this.element)},a.prototype._getMeasurement=function(l,s){var f,C=this.options[l];C?("string"==typeof C?f=this.element.querySelector(C):x(C)&&(f=C),this[l]=f?c(f)[s]:C):this[l]=0},a.prototype.layoutItems=function(f,i){f=this._getItemsForLayout(f),this._layoutItems(f,i),this._postLayout()},a.prototype._getItemsForLayout=function(l){for(var s=[],f=0,C=l.length;C>f;f++){var D=l[f];D.isIgnored||s.push(D)}return s},a.prototype._layoutItems=function(H,F){function E(){C.emitEvent("layoutComplete",[C,H])}var C=this;if(!H||!H.length){return E(),void 0}this._itemsOn(H,"layout",E);for(var D=[],f=0,I=H.length;I>f;f++){var G=H[f],l=this._getItemLayoutPosition(G);l.item=G,l.isInstant=F||G.isLayoutInstant,D.push(l)}this._processLayoutQueue(D)},a.prototype._getItemLayoutPosition=function(){return{x:0,y:0}},a.prototype._processLayoutQueue=function(l){for(var s=0,f=l.length;f>s;s++){var C=l[s];this._positionItem(C.item,C.x,C.y,C.isInstant)}},a.prototype._positionItem=function(l,s,f,C){C?l.goTo(s,f):l.moveTo(s,f)},a.prototype._postLayout=function(){var f=this._getContainerSize();f&&(this._setContainerMeasure(f.width,!0),this._setContainerMeasure(f.height,!1))},a.prototype._getContainerSize=q,a.prototype._setContainerMeasure=function(l,s){if(void 0!==l){var f=this.size;f.isBorderBox&&(l+=s?f.paddingLeft+f.paddingRight+f.borderLeftWidth+f.borderRightWidth:f.paddingBottom+f.paddingTop+f.borderTopWidth+f.borderBottomWidth),l=Math.max(l,0),this.element.style[s?"width":"height"]=l+"px"}},a.prototype._itemsOn=function(I,F,E){function C(){return D++,D===f&&E.call(J),!0}for(var D=0,f=I.length,J=this,G=0,l=I.length;l>G;G++){var H=I[G];H.on(F,C)}},a.prototype.ignore=function(f){var i=this.getItem(f);i&&(i.isIgnored=!0)},a.prototype.unignore=function(f){var i=this.getItem(f);i&&delete i.isIgnored},a.prototype.stamp=function(l){if(l=this._find(l)){this.stamps=this.stamps.concat(l);for(var s=0,f=l.length;f>s;s++){var C=l[s];this.ignore(C)}}},a.prototype.unstamp=function(l){if(l=this._find(l)){for(var s=0,f=l.length;f>s;s++){var C=l[s];j(C,this.stamps),this.unignore(C)}}},a.prototype._find=function(f){return f?("string"==typeof f&&(f=this.element.querySelectorAll(f)),f=g(f)):void 0},a.prototype._manageStamps=function(){if(this.stamps&&this.stamps.length){this._getBoundingRect();for(var l=0,s=this.stamps.length;s>l;l++){var f=this.stamps[l];this._manageStamp(f)}}},a.prototype._getBoundingRect=function(){var f=this.element.getBoundingClientRect(),i=this.size;this._boundingRect={left:f.left+i.paddingLeft+i.borderLeftWidth,top:f.top+i.paddingTop+i.borderTopWidth,right:f.right-(i.paddingRight+i.borderRightWidth),bottom:f.bottom-(i.paddingBottom+i.borderBottomWidth)}},a.prototype._manageStamp=q,a.prototype._getElementOffset=function(l){var s=l.getBoundingClientRect(),f=this._boundingRect,C=c(l),D={left:s.left-f.left-C.marginLeft,top:s.top-f.top-C.marginTop,right:f.right-s.right-C.marginRight,bottom:f.bottom-s.bottom-C.marginBottom};return D},a.prototype.handleEvent=function(f){var i="on"+f.type;this[i]&&this[i](f)},a.prototype.bindResize=function(){this.isResizeBound||(e.bind(A,"resize",this),this.isResizeBound=!0)},a.prototype.unbindResize=function(){e.unbind(A,"resize",this),this.isResizeBound=!1},a.prototype.onresize=function(){function f(){i.resize(),delete i.resizeTimeout}this.resizeTimeout&&clearTimeout(this.resizeTimeout);var i=this;this.resizeTimeout=setTimeout(f,100)},a.prototype.resize=function(){var f=c(this.element),i=this.size&&f;i&&f.innerWidth===this.size.innerWidth||this.layout()},a.prototype.addItems=function(f){var i=this._itemize(f);return i.length&&(this.items=this.items.concat(i)),i},a.prototype.appended=function(f){var i=this.addItems(f);i.length&&(this.layoutItems(i,!0),this.reveal(i))},a.prototype.prepended=function(l){var s=this._itemize(l);if(s.length){var f=this.items.slice(0);this.items=s.concat(f),this._resetLayout(),this._manageStamps(),this.layoutItems(s,!0),this.reveal(s),this.layoutItems(f)}},a.prototype.reveal=function(l){var s=l&&l.length;if(s){for(var f=0;s>f;f++){var C=l[f];C.reveal()}}},a.prototype.hide=function(l){var s=l&&l.length;if(s){for(var f=0;s>f;f++){var C=l[f];C.hide()}}},a.prototype.getItem=function(l){for(var s=0,f=this.items.length;f>s;s++){var C=this.items[s];if(C.element===l){return C}}},a.prototype.getItems=function(l){if(l&&l.length){for(var C=[],f=0,D=l.length;D>f;f++){var E=l[f],s=this.getItem(E);s&&C.push(s)}return C}},a.prototype.remove=function(l){l=g(l);var E=this.getItems(l);if(E&&E.length){this._itemsOn(E,"remove",function(){this.emitEvent("removeComplete",[this,E])});for(var f=0,D=E.length;D>f;f++){var C=E[f];C.remove(),j(C,this.items)}}},a.prototype.destroy=function(){var l=this.element.style;l.height="",l.position="",l.width="";for(var s=0,f=this.items.length;f>s;s++){var C=this.items[s];C.destroy()}this.unbindResize(),delete this.element.outlayerGUID,z&&z.removeData(this.element,this.constructor.namespace)},a.data=function(f){var i=f&&f.outlayerGUID;return i&&r[i]},a.create=function(l,f){function s(){a.apply(this,arguments)}return Object.create?s.prototype=Object.create(a.prototype):w(s.prototype,a.prototype),s.prototype.constructor=s,h(s,"options"),w(s.prototype.options,f),s.namespace=l,s.data=a.data,s.Item=function(){p.apply(this,arguments)},s.Item.prototype=new p,u(function(){for(var H=b(l),E=y.querySelectorAll(".js-"+H),C="data-"+H+"-options",L=0,F=E.length;F>L;L++){var G,J=E[L],D=J.getAttribute(C);try{G=D&&JSON.parse(D)}catch(I){d&&d.error("Error parsing "+C+" on "+J.nodeName.toLowerCase()+(J.id?"#"+J.id:"")+": "+I);continue}var K=new s(J,G);z&&z.data(J,l,K)}}),z&&z.bridget&&z.bridget(l,s),s},a.Item=p,a}var y=A.document,d=A.console,z=A.jQuery,q=function(){},v=Object.prototype.toString,x="object"==typeof HTMLElement?function(a){return a instanceof HTMLElement}:function(a){return a&&"object"==typeof a&&1===a.nodeType&&"string"==typeof a.nodeName},k=Array.prototype.indexOf?function(a,c){return a.indexOf(c)}:function(c,f){for(var a=0,h=c.length;h>a;a++){if(c[a]===f){return a}}return -1};"function"==typeof define&&define.amd?define("outlayer/outlayer",["eventie/eventie","doc-ready/doc-ready","eventEmitter/EventEmitter","get-size/get-size","matches-selector/matches-selector","./item"],B):A.Outlayer=B(A.eventie,A.docReady,A.EventEmitter,A.getSize,A.matchesSelector,A.Outlayer.Item)}(window),function(a){function b(c){function d(){c.Item.apply(this,arguments)}return d.prototype=new c.Item,d.prototype._create=function(){this.id=this.layout.itemGUID++,c.Item.prototype._create.call(this),this.sortData={}},d.prototype.updateSortData=function(){if(!this.isIgnored){this.sortData.id=this.id,this.sortData["original-order"]=this.id,this.sortData.random=Math.random();var g=this.layout.options.getSortData,h=this.layout._sorters;for(var f in g){var j=h[f];this.sortData[f]=j(this.element,this)}}},d}"function"==typeof define&&define.amd?define("isotope/js/item",["outlayer/outlayer"],b):(a.Isotope=a.Isotope||{},a.Isotope.Item=b(a.Outlayer))}(window),function(a){function b(d,f){function c(e){this.isotope=e,e&&(this.options=e.options[this.namespace],this.element=e.element,this.items=e.filteredItems,this.size=e.size)}return function(){function e(k){return function(){return f.prototype[k].apply(this.isotope,arguments)}}for(var i=["_resetLayout","_getItemLayoutPosition","_manageStamp","_getContainerSize","_getElementOffset","resize"],j=0,h=i.length;h>j;j++){var g=i[j];c.prototype[g]=e(g)}}(),c.prototype.resizeVertical=function(){var h=d(this.isotope.element),g=this.isotope.size&&h;g&&h.innerHeight===this.isotope.size.innerHeight||this.isotope.layout()},c.prototype._getMeasurement=function(){this.isotope._getMeasurement.apply(this,arguments)},c.prototype.getColumnWidth=function(){this.getSegmentSize("column","Width")},c.prototype.getRowHeight=function(){this.getSegmentSize("row","Height")},c.prototype.getSegmentSize=function(h,j){var g=h+j,k="outer"+j;if(this._getMeasurement(g,k),!this[g]){var l=this.getFirstItemSize();this[g]=l&&l[k]||this.isotope.size["inner"+j]}},c.prototype.getFirstItemSize=function(){var g=this.isotope.filteredItems[0];return g&&g.element&&d(g.element)},c.prototype.layout=function(){this.isotope.layout.apply(this.isotope,arguments)},c.prototype.getSize=function(){this.isotope.getSize(),this.size=this.isotope.size},c.modes={},c.create=function(g,h){function i(){c.apply(this,arguments)}return i.prototype=new c,h&&(i.options=h),i.prototype.namespace=g,c.modes[g]=i,i},c}"function"==typeof define&&define.amd?define("isotope/js/layout-mode",["get-size/get-size","outlayer/outlayer"],b):(a.Isotope=a.Isotope||{},a.Isotope.LayoutMode=b(a.getSize,a.Outlayer))}(window),function(w){function m(f,h){for(var a in h){f[a]=h[a]}return f}function j(a){return"[object Array]"===k.call(a)}function d(a){var f=[];if(j(a)){f=a}else{if(a&&"number"==typeof a.length){for(var h=0,i=a.length;i>h;h++){f.push(a[h])}}else{f.push(a)}}return f}function g(f,h){var a=l(h,f);-1!==a&&h.splice(a,1)}function b(A,o,a,e,s){function u(f,h){return function(E,C){for(var D=0,t=f.length;t>D;D++){var I=f[D],G=E.sortData[I],B=C.sortData[I];if(G>B||B>G){var H=void 0!==h[I]?h[I]:h,F=H?1:-1;return(G>B?1:-1)*F}}return 0}}var z=A.create("isotope",{layoutMode:"masonry",isJQueryFiltering:!0,sortAscending:!0});z.Item=e,z.LayoutMode=s,z.prototype._create=function(){this.itemGUID=0,this._sorters={},this._getSorters(),A.prototype._create.call(this),this.modes={},this.filteredItems=this.items,this.sortHistory=["original-order"];for(var f in s.modes){this._initLayoutMode(f)}},z.prototype.reloadItems=function(){this.itemGUID=0,A.prototype.reloadItems.call(this)},z.prototype._itemize=function(){for(var h=A.prototype._itemize.apply(this,arguments),f=0,p=h.length;p>f;f++){var r=h[f];r.id=this.itemGUID++}return this._updateItemsSortData(h),h},z.prototype._initLayoutMode=function(h){var f=s.modes[h],p=this.options[h]||{};this.options[h]=f.options?m(f.options,p):p,this.modes[h]=new f(this)},z.prototype.layout=function(){return !this._isLayoutInited&&this.options.isInitLayout?(this.arrange(),void 0):(this._layout(),void 0)},z.prototype._layout=function(){var f=this._getIsInstant();this._resetLayout(),this._manageStamps(),this.layoutItems(this.filteredItems,f),this._isLayoutInited=!0},z.prototype.arrange=function(f){this.option(f),this._getIsInstant(),this.filteredItems=this._filter(this.items),this._sort(),this._layout()},z.prototype._init=z.prototype.arrange,z.prototype._getIsInstant=function(){var f=void 0!==this.options.isLayoutInstant?this.options.isLayoutInstant:!this._isLayoutInited;return this._isInstant=f},z.prototype._filter=function(L){function I(){H.reveal(E),H.hide(B)}var F=this.options.filter;F=F||"*";for(var D=[],E=[],B=[],M=this._getFilterTest(F),J=0,C=L.length;C>J;J++){var K=L[J];if(!K.isIgnored){var G=M(K);G&&D.push(K),G&&K.isHidden?E.push(K):G||K.isHidden||B.push(K)}}var H=this;return this._isInstant?this._noTransition(I):I(),D},z.prototype._getFilterTest=function(f){return x&&this.options.isJQueryFiltering?function(h){return x(h.element).is(f)}:"function"==typeof f?function(h){return f(h.element)}:function(h){return a(h.element,f)}},z.prototype.updateSortData=function(f){this._getSorters(),f=d(f);var h=this.getItems(f);h=h.length?h:this.items,this._updateItemsSortData(h)},z.prototype._getSorters=function(){var h=this.options.getSortData;for(var p in h){var f=h[p];this._sorters[p]=n(f)}},z.prototype._updateItemsSortData=function(h){for(var p=0,f=h.length;f>p;p++){var r=h[p];r.updateSortData()}};var n=function(){function f(C){if("string"!=typeof C){return C}var B=q(C).split(" "),G=B[0],H=G.match(/^\[(.+)\]$/),E=H&&H[1],D=h(E,G),F=z.sortDataParsers[B[1]];return C=F?function(i){return i&&F(D(i))}:function(i){return i&&D(i)}}function h(r,B){var p;return p=r?function(i){return i.getAttribute(r)}:function(D){var C=D.querySelector(B);return C&&v(C)}}return f}();z.sortDataParsers={parseInt:function(f){return parseInt(f,10)},parseFloat:function(f){return parseFloat(f)}},z.prototype._sort=function(){var h=this.options.sortBy;if(h){var p=[].concat.apply(h,this.sortHistory),f=u(p,this.options.sortAscending);this.filteredItems.sort(f),h!==this.sortHistory[0]&&this.sortHistory.unshift(h)}},z.prototype._mode=function(){var f=this.options.layoutMode,h=this.modes[f];if(!h){throw Error("No layout mode: "+f)}return h.options=this.options[f],h},z.prototype._resetLayout=function(){A.prototype._resetLayout.call(this),this._mode()._resetLayout()},z.prototype._getItemLayoutPosition=function(f){return this._mode()._getItemLayoutPosition(f)},z.prototype._manageStamp=function(f){var h=this._mode();h.options.isOriginLeft=this.options.isOriginLeft,h.options.isOriginTop=this.options.isOriginTop,h._manageStamp(f)},z.prototype._getContainerSize=function(){return this._mode()._getContainerSize()},z.prototype.resize=function(){this._mode().resize()},z.prototype.appended=function(h){var p=this.addItems(h);if(p.length){var f=this._filterRevealAdded(p);this.filteredItems=this.filteredItems.concat(f)}},z.prototype.prepended=function(h){var p=this._itemize(h);if(p.length){var f=this.items.slice(0);this.items=p.concat(f),this._resetLayout(),this._manageStamps();var r=this._filterRevealAdded(p);this.layoutItems(f),this.filteredItems=r.concat(this.filteredItems)}},z.prototype._filterRevealAdded=function(f){var h=this._noTransition(function(){return this._filter(f)});return this.layoutItems(h,!0),this.reveal(h),f},z.prototype.insert=function(h){var B=this.addItems(h);if(B.length){var f,C,D=B.length;for(f=0;D>f;f++){C=B[f],this.element.appendChild(C.element)}var p=this._filter(B);for(this._noTransition(function(){this.hide(p)}),f=0;D>f;f++){B[f].isLayoutInstant=!0}for(this.arrange(),f=0;D>f;f++){delete B[f].isLayoutInstant}this.reveal(p)}};var y=z.prototype.remove;return z.prototype.remove=function(h){h=d(h);var C=this.getItems(h);if(y.call(this,h),C&&C.length){for(var f=0,B=C.length;B>f;f++){var p=C[f];g(p,this.filteredItems)}}},z.prototype._noTransition=function(h){var p=this.options.transitionDuration;this.options.transitionDuration=0;var f=h.call(this);return this.options.transitionDuration=p,f},z}var x=w.jQuery,q=String.prototype.trim?function(a){return a.trim()}:function(a){return a.replace(/^\s+|\s+$/g,"")},c=document.documentElement,v=c.textContent?function(a){return a.textContent}:function(a){return a.innerText},k=Object.prototype.toString,l=Array.prototype.indexOf?function(a,f){return a.indexOf(f)}:function(f,h){for(var a=0,n=f.length;n>a;a++){if(f[a]===h){return a}}return -1};"function"==typeof define&&define.amd?define(["outlayer/outlayer","get-size/get-size","matches-selector/matches-selector","isotope/js/item","isotope/js/layout-mode"],b):w.Isotope=b(w.Outlayer,w.getSize,w.matchesSelector,w.Isotope.Item,w.Isotope.LayoutMode)}(window),function(b){function c(d,f){var g=d.create("masonry");return g.prototype._resetLayout=function(){this.getSize(),this._getMeasurement("columnWidth","outerWidth"),this._getMeasurement("gutter","outerWidth"),this.measureColumns();var e=this.cols;for(this.colYs=[];e--;){this.colYs.push(0)}this.maxY=0},g.prototype.measureColumns=function(){if(this.getContainerWidth(),!this.columnWidth){var h=this.items[0],e=h&&h.element;this.columnWidth=e&&f(e).outerWidth||this.containerWidth}this.columnWidth+=this.gutter,this.cols=Math.floor((this.containerWidth+this.gutter)/this.columnWidth),this.cols=Math.max(this.cols,1)},g.prototype.getContainerWidth=function(){var h=this.options.isFitWidth?this.element.parentNode:this.element,e=f(h);this.containerWidth=e&&e.innerWidth},g.prototype._getItemLayoutPosition=function(y){y.getSize();var v=y.size.outerWidth%this.columnWidth,k=v&&1>v?"round":"ceil",l=Math[k](y.size.outerWidth/this.columnWidth);l=Math.min(l,this.cols);for(var i=this._getColGroup(l),z=Math.min.apply(Math,i),w=a(i,z),j={x:this.columnWidth*w,y:z},x=z+y.size.outerHeight,m=this.cols+1-i.length,q=0;m>q;q++){this.colYs[w+q]=x}return j},g.prototype._getColGroup=function(j){if(2>j){return this.colYs}for(var k=[],h=this.cols+1-j,l=0;h>l;l++){var m=this.colYs.slice(l,l+j);k[l]=Math.max.apply(Math,m)}return k},g.prototype._manageStamp=function(v){var l=f(v),j=this._getElementOffset(v),k=this.options.isOriginLeft?j.left:j.right,e=k+l.outerWidth,w=Math.floor(k/this.columnWidth);w=Math.max(0,w);var m=Math.floor(e/this.columnWidth);m-=e%this.columnWidth?0:1,m=Math.min(this.cols-1,m);for(var h=(this.options.isOriginTop?j.top:j.bottom)+l.outerHeight,q=w;m>=q;q++){this.colYs[q]=Math.max(h,this.colYs[q])}},g.prototype._getContainerSize=function(){this.maxY=Math.max.apply(Math,this.colYs);var e={height:this.maxY};return this.options.isFitWidth&&(e.width=this._getContainerFitWidth()),e},g.prototype._getContainerFitWidth=function(){for(var h=0,i=this.cols;--i&&0===this.colYs[i];){h++}return(this.cols-h)*this.columnWidth-this.gutter},g.prototype.resize=function(){var e=this.containerWidth;this.getContainerWidth(),e!==this.containerWidth&&this.layout()},g}var a=Array.prototype.indexOf?function(d,f){return d.indexOf(f)}:function(f,g){for(var d=0,h=f.length;h>d;d++){var j=f[d];if(j===g){return d}}return -1};"function"==typeof define&&define.amd?define("masonry/masonry",["outlayer/outlayer","get-size/get-size"],c):b.Masonry=c(b.Outlayer,b.getSize)}(window),function(b){function c(f,g){for(var d in g){f[d]=g[d]}return f}function a(f,e){var j=f.create("masonry"),k=j.prototype._getElementOffset,h=j.prototype.layout,g=j.prototype._getMeasurement;c(j.prototype,e.prototype),j.prototype._getElementOffset=k,j.prototype.layout=h,j.prototype._getMeasurement=g;var d=j.prototype.measureColumns;return j.prototype.measureColumns=function(){this.items=this.isotope.filteredItems,d.call(this)},j}"function"==typeof define&&define.amd?define("isotope/js/layout-modes/masonry",["../layout-mode","masonry/masonry"],a):a(b.Isotope.LayoutMode,b.Masonry)}(window),function(a){function b(c){var d=c.create("fitRows");return d.prototype._resetLayout=function(){this.x=0,this.y=0,this.maxY=0},d.prototype._getItemLayoutPosition=function(f){f.getSize(),0!==this.x&&f.size.outerWidth+this.x>this.isotope.size.innerWidth&&(this.x=0,this.y=this.maxY);var g={x:this.x,y:this.y};return this.maxY=Math.max(this.maxY,this.y+f.size.outerHeight),this.x+=f.size.outerWidth,g},d.prototype._getContainerSize=function(){return{height:this.maxY}},d}"function"==typeof define&&define.amd?define("isotope/js/layout-modes/fit-rows",["../layout-mode"],b):b(a.Isotope.LayoutMode)}(window),function(a){function b(c){var d=c.create("vertical",{horizontalAlignment:0});return d.prototype._resetLayout=function(){this.y=0},d.prototype._getItemLayoutPosition=function(g){g.getSize();var h=(this.isotope.size.innerWidth-g.size.outerWidth)*this.options.horizontalAlignment,f=this.y;return this.y+=g.size.outerHeight,{x:h,y:f}},d.prototype._getContainerSize=function(){return{height:this.y}},d}"function"==typeof define&&define.amd?define("isotope/js/layout-modes/vertical",["../layout-mode"],b):b(a.Isotope.LayoutMode)}(window);
$(document).ready(function(){projectImagesLightbox()});$(window).load(function(){projectImagesMasonry()});function projectImagesMasonry(){var a=$(".project-masonry-images");a.masonry({columnWidth:".project-image",itemSelector:".project-image"})}function projectImagesLightbox(){$(".image-link").magnificPopup({type:"image",mainClass:"mfp-with-zoom",overflowY:"scroll",gallery:{enabled:true},zoom:{enabled:true,duration:300,easing:"ease-in-out",opener:function(a){return a.is("img")?a:a.find("img")}}})};